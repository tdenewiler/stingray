/*************************************
This program can be used to evaluate a jboost-trained classifier on new data.  
The code contains a single procedure:
  double predict(void **attr, double *ret)
The first argument attr is an array of pointers corresponding to the
attributes specified in the spec file.  Thus, if attribute i is text,
then attr[i] must be a char array; if attribute i is a number, then
*attr[i] must be a double; and if attribute i is finite, then *attr[i]
must be an int containing the index of the chosen value.  An undefined
attribute is indicated by setting attr[i] to NULL.
Specifically, these pointers are:
     index    attr.type    data.type   name
   ------------------------------------------
        0     number       double      H
        1     number       double      S
        2     number       double      V
The second argument ret is a pointer to an array of k doubles, where k
is the number of classes.  The scores for each of the k classes will
be stored in this array.  If ret is NULL, then no scores are stored.
In any case, predict returns the score for class 0 (=ret[0]).
These scores correspond to the classes as follows:
            index       class name
           ------------------------
               0        non-buoy
               1        buoy
This classifier was automatically generated by jboost on
Tue Nov 24 21:33:55 GMT-00:08 2009.
*************************************/
#include <stdio.h>
#include <stdlib.h>
#include <strings.h>
#include <values.h>
#include "strlcpy.h"
typedef double Prediction_t;
#define reset_pred()  {p = 0.0;}
#define add_pred(X) {p += (X);}
#define finalize_pred()  ((r) ? (r[1] = p , r[0] = -p) : -p)
#define defined_attr(X)  (attr[X])
#define int_attr(X)      (*((int *) attr[X]))
#define attr_contains_token(X,Y) (tokens[X][Y])
#define double_attr(X)   (*((double *) attr[X]))
#define WHITE_CHARS   " \t\n"
typedef struct hash_table_entry_s {
  char *key;
  int id;
  struct hash_table_entry_s *next;
} HashTableEntry_t;
static char *keys[] = {
};
#define num_keys  (0)
static HashTableEntry_t **hash_table = NULL;
#define hash_table_size  (1031)
static char *tokens[1];
static int text_attr[] = {};
#define num_text_attr  (0)
static char **text_patterns[] = {
};
static char **words;
static int num_words;
static int cur_word;
static char *pattern;
static int pattern_len;
static void set_pattern(int n, char **m_w, char *pat) {
  words = m_w;
  pattern = pat;
  cur_word = 0;
  num_words = n;
  pattern_len = strlen(pat);
}
#define more_tokens()  (cur_word <= num_words - pattern_len)
#define ADD_CHAR(S)  { \
  if (c >= buffer_size) { \
    buffer_size = 2 * buffer_size + 1; \
    buffer = (char *) realloc(buffer, buffer_size * sizeof(char)); \
  } \
  buffer[c++] = (S); \
}
static char *next_token(void) {
  static char *buffer = NULL;
  static int buffer_size = 0;
  int i, c;
  char *s;
  c = 0;
  for (s = pattern; *s; s++)
    ADD_CHAR(*s);
  for (i = 0; i < pattern_len; i++) {
    if (pattern[i] == '1') {
      ADD_CHAR(' ');
      for (s = words[cur_word + i]; *s; s++)
	ADD_CHAR(*s);
    }
  }
  ADD_CHAR('\0');
  cur_word++;
  return buffer;
}
static int
hash(char *s) {
  static int *coef = NULL;
  static int max_len = 0;
  int len = strlen(s);
  int i, h;
  if (len > max_len) {
    i = max_len;
    max_len = 2 * len;
    coef = (int *) realloc(coef, max_len * sizeof(int));
    for (; i < max_len; i++)
      coef[i] = random() % hash_table_size;
  }
  h = 0;
  for (i = 0; i < len; i++) {
     if (h >= MAXINT - (hash_table_size - 1) * 255)
       h = h % hash_table_size;
     h += coef[i] * s[i];
  }
  return (h % hash_table_size);
}
double predict(void **attr, double *r) {
  int i, j, h, a;
  HashTableEntry_t *entry;
  char *s;
  static char **words = NULL;
  static int max_word_list_size = 0;
  int num_words;
  static char *buffer = NULL;
  static int buffer_size = 0;
  char **pat;
  Prediction_t p;
  if (!hash_table) {
    hash_table = (HashTableEntry_t **)
      malloc(hash_table_size * sizeof(HashTableEntry_t *));
    for (i = 0; i < hash_table_size; i++)
      hash_table[i] = NULL;
    for (i = 0; i < num_keys; i++) {
      h = hash(keys[i]);
      entry = (HashTableEntry_t *) malloc(sizeof(HashTableEntry_t));
      entry->key = keys[i];
      entry->id = i;
      entry->next = hash_table[h];
      hash_table[h] = entry;
    }
    for (i = 0; i < num_text_attr; i++)
      tokens[text_attr[i]] = (char *) malloc(num_keys * sizeof(char));
  }
  for (i = 0; i < num_text_attr; i++) {
    a = text_attr[i];
    if (!defined_attr(a))
      continue;
    for (j = 0; j < num_keys; j++)
      tokens[a][j] = 0;
    while ((int)strlcpy(buffer, (char*)attr[a], buffer_size) >= buffer_size) {
      buffer_size = 2 * strlen((char*)attr[a]);
      buffer = (char *) realloc(buffer, (buffer_size+1) * sizeof(char));
    }
    num_words = 0;
    for (s = strtok(buffer, WHITE_CHARS); s; s = strtok(NULL, WHITE_CHARS)) {
      if (num_words >= max_word_list_size) {
        max_word_list_size = 2 * max_word_list_size + 1;
        words = (char **) realloc(words, max_word_list_size * sizeof(char *));
      }
      words[num_words++] = s;
    }
    for (pat = text_patterns[i]; *pat; pat++) {
      set_pattern(num_words, words, *pat);
      while (more_tokens()) {
        s = next_token();
        for (entry = hash_table[hash(s)]; entry; entry = entry->next)
          if (!strcmp(entry->key, s)) {
            tokens[a][entry->id] = 1;
            break;
          }
        }
      }
  }
  reset_pred();
  add_pred(   /* R */
             -0.06344743720088028);
  if (defined_attr(0)) {  /* R.0 */
    if (double_attr(0) <= 0.2230902777777778) {
      add_pred(   /* R.0:0 */
                 2.0554850328901395);
      if (defined_attr(2)) {  /* R.0:0.0 */
        if (double_attr(2) <= 0.47647058963775635) {
          add_pred(   /* R.0:0.0:0 */
                     -0.5193422818640592);
          if (defined_attr(0)) {  /* R.0:0.0:0.0 */
            if (double_attr(0) <= 0.17261904761904762) {
              add_pred(   /* R.0:0.0:0.0:0 */
                         0.2849819636944718);
              if (defined_attr(1)) {  /* R.0:0.0:0.0:0.0 */
                if (double_attr(1) <= 0.06978260869565217) {
                  add_pred(   /* R.0:0.0:0.0:0.0:0 */
                             0.02617783020880885);
                } else {
                  add_pred(   /* R.0:0.0:0.0:0.0:1 */
                             0.5491554454079658);
                }
              }
            } else {
              add_pred(   /* R.0:0.0:0.0:1 */
                         -0.9155214089238559);
            }
          }
        } else {
          add_pred(   /* R.0:0.0:1 */
                     1.3966882986756775);
          if (defined_attr(0)) {  /* R.0:0.0:1.0 */
            if (double_attr(0) <= 0.07130456349206349) {
              add_pred(   /* R.0:0.0:1.0:0 */
                         1.7162882412727627);
              if (defined_attr(1)) {  /* R.0:0.0:1.0:0.0 */
                if (double_attr(1) <= 0.19700701597253323) {
                  add_pred(   /* R.0:0.0:1.0:0.0:0 */
                             -0.7611319419173501);
                  if (defined_attr(2)) {  /* R.0:0.0:1.0:0.0:0.0 */
                    if (double_attr(2) <= 0.9862745106220245) {
                      add_pred(   /* R.0:0.0:1.0:0.0:0.0:0 */
                                 -1.0643414448518034);
                      if (defined_attr(1)) {  /* R.0:0.0:1.0:0.0:0.0:0.0 */
                        if (double_attr(1) <= 0.1470699842792866) {
                          add_pred(   /* R.0:0.0:1.0:0.0:0.0:0.0:0 */
                                     -1.0362149551666417);
                          if (defined_attr(2)) {  /* R.0:0.0:1.0:0.0:0.0:0.0:0.0 */
                            if (double_attr(2) <= 0.4843137264251709) {
                              add_pred(   /* R.0:0.0:1.0:0.0:0.0:0.0:0.0:0 */
                                         0.7012176803078254);
                            } else {
                              add_pred(   /* R.0:0.0:1.0:0.0:0.0:0.0:0.0:1 */
                                         -0.5894747811025843);
                              if (defined_attr(1)) {  /* R.0:0.0:1.0:0.0:0.0:0.0:0.0:1.0 */
                                if (double_attr(1) <= 0.036239495798319324) {
                                  add_pred(   /* R.0:0.0:1.0:0.0:0.0:0.0:0.0:1.0:0 */
                                             -1.21888227445634);
                                } else {
                                  add_pred(   /* R.0:0.0:1.0:0.0:0.0:0.0:0.0:1.0:1 */
                                             -0.14791113686886967);
                                }
                              }
                            }
                          }
                        } else {
                          add_pred(   /* R.0:0.0:1.0:0.0:0.0:0.0:1 */
                                     0.2877824831518951);
                        }
                      }
                    } else {
                      add_pred(   /* R.0:0.0:1.0:0.0:0.0:1 */
                                 0.761622086359969);
                    }
                  }
                } else {
                  add_pred(   /* R.0:0.0:1.0:0.0:1 */
                             2.187331641467975);
                }
              }
            } else {
              add_pred(   /* R.0:0.0:1.0:1 */
                         -0.15672738595255215);
              if (defined_attr(2)) {  /* R.0:0.0:1.0:1.0 */
                if (double_attr(2) <= 0.9901960790157318) {
                  add_pred(   /* R.0:0.0:1.0:1.0:0 */
                             -1.2720816509654624);
                  if (defined_attr(2)) {  /* R.0:0.0:1.0:1.0:0.0 */
                    if (double_attr(2) <= 0.5588235557079315) {
                      add_pred(   /* R.0:0.0:1.0:1.0:0.0:0 */
                                 0.3342645871729412);
                    } else {
                      add_pred(   /* R.0:0.0:1.0:1.0:0.0:1 */
                                 -0.5583275900568485);
                      if (defined_attr(1)) {  /* R.0:0.0:1.0:1.0:0.0:1.0 */
                        if (double_attr(1) <= 0.1283595922150139) {
                          add_pred(   /* R.0:0.0:1.0:1.0:0.0:1.0:0 */
                                     -0.674315970334165);
                          if (defined_attr(0)) {  /* R.0:0.0:1.0:1.0:0.0:1.0:0.0 */
                            if (double_attr(0) <= 0.12797619047619047) {
                              add_pred(   /* R.0:0.0:1.0:1.0:0.0:1.0:0.0:0 */
                                         -0.8826926689168801);
                            } else {
                              add_pred(   /* R.0:0.0:1.0:1.0:0.0:1.0:0.0:1 */
                                         0.1725094282148708);
                            }
                          }
                        } else {
                          add_pred(   /* R.0:0.0:1.0:1.0:0.0:1.0:1 */
                                     0.6341777914092543);
                        }
                      }
                    }
                  }
                } else {
                  add_pred(   /* R.0:0.0:1.0:1.0:1 */
                             1.0760900342602575);
                }
              }
            }
          }
        }
      }
      if (defined_attr(0)) {  /* R.0:0.1 */
        if (double_attr(0) <= 0.0979614067849362) {
          add_pred(   /* R.0:0.1:0 */
                     0.5476937936765078);
          if (defined_attr(2)) {  /* R.0:0.1:0.0 */
            if (double_attr(2) <= 0.2862745225429535) {
              add_pred(   /* R.0:0.1:0.0:0 */
                         -3.3358692734342883);
            } else {
              add_pred(   /* R.0:0.1:0.0:1 */
                         0.544448093257889);
              if (defined_attr(1)) {  /* R.0:0.1:0.0:1.0 */
                if (double_attr(1) <= 0.28721076527542255) {
                  add_pred(   /* R.0:0.1:0.0:1.0:0 */
                             -0.04165802691836369);
                } else {
                  add_pred(   /* R.0:0.1:0.0:1.0:1 */
                             3.243480156431338);
                }
              }
            }
          }
          if (defined_attr(1)) {  /* R.0:0.1:0.1 */
            if (double_attr(1) <= 0.08468057366362451) {
              add_pred(   /* R.0:0.1:0.1:0 */
                         -0.5367126877299709);
            } else {
              add_pred(   /* R.0:0.1:0.1:1 */
                         0.4271104296548766);
            }
          }
        } else {
          add_pred(   /* R.0:0.1:1 */
                     -0.6447430512523851);
          if (defined_attr(2)) {  /* R.0:0.1:1.0 */
            if (double_attr(2) <= 0.9862745106220245) {
              add_pred(   /* R.0:0.1:1.0:0 */
                         -0.6902949597070083);
              if (defined_attr(1)) {  /* R.0:0.1:1.0:0.0 */
                if (double_attr(1) <= 0.062128083888191965) {
                  add_pred(   /* R.0:0.1:1.0:0.0:0 */
                             0.14930341332305233);
                } else {
                  add_pred(   /* R.0:0.1:1.0:0.0:1 */
                             -0.89296840254921);
                  if (defined_attr(2)) {  /* R.0:0.1:1.0:0.0:1.0 */
                    if (double_attr(2) <= 0.9470588266849518) {
                      add_pred(   /* R.0:0.1:1.0:0.0:1.0:0 */
                                 -0.6995313524177104);
                      if (defined_attr(0)) {  /* R.0:0.1:1.0:0.0:1.0:0.0 */
                        if (double_attr(0) <= 0.11785714285714285) {
                          add_pred(   /* R.0:0.1:1.0:0.0:1.0:0.0:0 */
                                     0.46038098264042104);
                          if (defined_attr(1)) {  /* R.0:0.1:1.0:0.0:1.0:0.0:0.0 */
                            if (double_attr(1) <= 0.32254237288135595) {
                              add_pred(   /* R.0:0.1:1.0:0.0:1.0:0.0:0.0:0 */
                                         0.6087981920849762);
                            } else {
                              add_pred(   /* R.0:0.1:1.0:0.0:1.0:0.0:0.0:1 */
                                         -1.6745929260447743);
                            }
                          }
                        } else {
                          add_pred(   /* R.0:0.1:1.0:0.0:1.0:0.0:1 */
                                     -1.3915559875406016);
                          if (defined_attr(2)) {  /* R.0:0.1:1.0:0.0:1.0:0.0:1.0 */
                            if (double_attr(2) <= 0.5058823823928833) {
                              add_pred(   /* R.0:0.1:1.0:0.0:1.0:0.0:1.0:0 */
                                         -0.10635027346305305);
                            } else {
                              add_pred(   /* R.0:0.1:1.0:0.0:1.0:0.0:1.0:1 */
                                         -2.0894932982024175);
                            }
                          }
                        }
                      }
                    } else {
                      add_pred(   /* R.0:0.1:1.0:0.0:1.0:1 */
                                 2.0689185831805488);
                    }
                  }
                }
              }
            } else {
              add_pred(   /* R.0:0.1:1.0:1 */
                         0.6966627519128876);
              if (defined_attr(1)) {  /* R.0:0.1:1.0:1.0 */
                if (double_attr(1) <= 0.061016817794311395) {
                  add_pred(   /* R.0:0.1:1.0:1.0:0 */
                             -0.3169796091000703);
                } else {
                  add_pred(   /* R.0:0.1:1.0:1.0:1 */
                             2.659186217477268);
                }
              }
            }
          }
        }
      }
    } else {
      add_pred(   /* R.0:1 */
                 -1.2060142066603148);
      if (defined_attr(1)) {  /* R.0:1.0 */
        if (double_attr(1) <= 0.28076183609709204) {
          add_pred(   /* R.0:1.0:0 */
                     0.028646370033454813);
        } else {
          add_pred(   /* R.0:1.0:1 */
                     -3.6030878004120006);
        }
      }
      if (defined_attr(1)) {  /* R.0:1.1 */
        if (double_attr(1) <= 0.1293610547667343) {
          add_pred(   /* R.0:1.1:0 */
                     0.7728358168925965);
          if (defined_attr(2)) {  /* R.0:1.1:0.0 */
            if (double_attr(2) <= 0.39411765336990356) {
              add_pred(   /* R.0:1.1:0.0:0 */
                         -1.6351597411475036);
            } else {
              add_pred(   /* R.0:1.1:0.0:1 */
                         0.03873960079527299);
              if (defined_attr(2)) {  /* R.0:1.1:0.0:1.0 */
                if (double_attr(2) <= 0.9980392158031464) {
                  add_pred(   /* R.0:1.1:0.0:1.0:0 */
                             0.014156430183257752);
                } else {
                  add_pred(   /* R.0:1.1:0.0:1.0:1 */
                             0.7512160948334965);
                  if (defined_attr(1)) {  /* R.0:1.1:0.0:1.0:1.0 */
                    if (double_attr(1) <= 0.041176470588235294) {
                      add_pred(   /* R.0:1.1:0.0:1.0:1.0:0 */
                                 0.5113766441548739);
                    } else {
                      add_pred(   /* R.0:1.1:0.0:1.0:1.0:1 */
                                 -1.3216604051085337);
                    }
                  }
                }
              }
            }
          }
        } else {
          add_pred(   /* R.0:1.1:1 */
                     -0.5655286222559633);
          if (defined_attr(0)) {  /* R.0:1.1:1.0 */
            if (double_attr(0) <= 0.4647793726741095) {
              add_pred(   /* R.0:1.1:1.0:0 */
                         -3.720710298875286);
            } else {
              add_pred(   /* R.0:1.1:1.0:1 */
                         0.08988176487262839);
            }
          }
          if (defined_attr(0)) {  /* R.0:1.1:1.1 */
            if (double_attr(0) <= 0.49810606060606066) {
              add_pred(   /* R.0:1.1:1.1:0 */
                         -0.8198255338376492);
              if (defined_attr(2)) {  /* R.0:1.1:1.1:0.0 */
                if (double_attr(2) <= 0.5117647349834442) {
                  add_pred(   /* R.0:1.1:1.1:0.0:0 */
                             -1.2408805809084118);
                } else {
                  add_pred(   /* R.0:1.1:1.1:0.0:1 */
                             0.4267986862398107);
                }
              }
              if (defined_attr(1)) {  /* R.0:1.1:1.1:0.1 */
                if (double_attr(1) <= 0.1575072807679862) {
                  add_pred(   /* R.0:1.1:1.1:0.1:0 */
                             0.24069734524387545);
                } else {
                  add_pred(   /* R.0:1.1:1.1:0.1:1 */
                             -1.1244001514883664);
                }
              }
            } else {
              add_pred(   /* R.0:1.1:1.1:1 */
                         0.07247328988723792);
              if (defined_attr(0)) {  /* R.0:1.1:1.1:1.0 */
                if (double_attr(0) <= 0.5488153594771241) {
                  add_pred(   /* R.0:1.1:1.1:1.0:0 */
                             0.14526806260476907);
                  if (defined_attr(0)) {  /* R.0:1.1:1.1:1.0:0.0 */
                    if (double_attr(0) <= 0.5108747044917257) {
                      add_pred(   /* R.0:1.1:1.1:1.0:0.0:0 */
                                 -0.4210313539857703);
                      if (defined_attr(1)) {  /* R.0:1.1:1.1:1.0:0.0:0.0 */
                        if (double_attr(1) <= 0.1733910327324787) {
                          add_pred(   /* R.0:1.1:1.1:1.0:0.0:0.0:0 */
                                     0.005798409425043713);
                        } else {
                          add_pred(   /* R.0:1.1:1.1:1.0:0.0:0.0:1 */
                                     -0.7442976891303005);
                        }
                      }
                    } else {
                      add_pred(   /* R.0:1.1:1.1:1.0:0.0:1 */
                                 0.11176064791057752);
                    }
                  }
                  if (defined_attr(2)) {  /* R.0:1.1:1.1:1.0:0.1 */
                    if (double_attr(2) <= 0.5117647349834442) {
                      add_pred(   /* R.0:1.1:1.1:1.0:0.1:0 */
                                 -0.03927751501222833);
                    } else {
                      add_pred(   /* R.0:1.1:1.1:1.0:0.1:1 */
                                 0.5946127135750698);
                      if (defined_attr(1)) {  /* R.0:1.1:1.1:1.0:0.1:1.0 */
                        if (double_attr(1) <= 0.21376678073177152) {
                          add_pred(   /* R.0:1.1:1.1:1.0:0.1:1.0:0 */
                                     0.4233172659861207);
                          if (defined_attr(2)) {  /* R.0:1.1:1.1:1.0:0.1:1.0:0.0 */
                            if (double_attr(2) <= 0.6098039448261261) {
                              add_pred(   /* R.0:1.1:1.1:1.0:0.1:1.0:0.0:0 */
                                         0.3508862802266142);
                            } else {
                              add_pred(   /* R.0:1.1:1.1:1.0:0.1:1.0:0.0:1 */
                                         -1.7773992969195542);
                            }
                          }
                        } else {
                          add_pred(   /* R.0:1.1:1.1:1.0:0.1:1.0:1 */
                                     -2.4025245297807003);
                        }
                      }
                    }
                  }
                } else {
                  add_pred(   /* R.0:1.1:1.1:1.0:1 */
                             -0.3565094901485769);
                }
              }
              if (defined_attr(2)) {  /* R.0:1.1:1.1:1.1 */
                if (double_attr(2) <= 0.42941176891326904) {
                  add_pred(   /* R.0:1.1:1.1:1.1:0 */
                             0.2677456865589835);
                } else {
                  add_pred(   /* R.0:1.1:1.1:1.1:1 */
                             -0.06177002771534787);
                }
              }
            }
          }
          if (defined_attr(1)) {  /* R.0:1.1:1.2 */
            if (double_attr(1) <= 0.14026889654041647) {
              add_pred(   /* R.0:1.1:1.2:0 */
                         0.3625904473753109);
            } else {
              add_pred(   /* R.0:1.1:1.2:1 */
                         -0.10722309443693756);
              if (defined_attr(0)) {  /* R.0:1.1:1.2:1.0 */
                if (double_attr(0) <= 0.5528309409888357) {
                  add_pred(   /* R.0:1.1:1.2:1.0:0 */
                             0.024345619057876394);
                } else {
                  add_pred(   /* R.0:1.1:1.2:1.0:1 */
                             -0.34718057821545545);
                }
              }
            }
          }
          if (defined_attr(1)) {  /* R.0:1.1:1.3 */
            if (double_attr(1) <= 0.14968023137398673) {
              add_pred(   /* R.0:1.1:1.3:0 */
                         0.17901331211404797);
            } else {
              add_pred(   /* R.0:1.1:1.3:1 */
                         -0.03890653149052817);
            }
          }
        }
      }
      if (defined_attr(0)) {  /* R.0:1.2 */
        if (double_attr(0) <= 0.7537878787878787) {
          add_pred(   /* R.0:1.2:0 */
                     -0.10727007554397916);
          if (defined_attr(0)) {  /* R.0:1.2:0.0 */
            if (double_attr(0) <= 0.5626225490196078) {
              add_pred(   /* R.0:1.2:0.0:0 */
                         0.18413435827628452);
              if (defined_attr(1)) {  /* R.0:1.2:0.0:0.0 */
                if (double_attr(1) <= 0.23766434020451224) {
                  add_pred(   /* R.0:1.2:0.0:0.0:0 */
                             0.16968834679193806);
                  if (defined_attr(2)) {  /* R.0:1.2:0.0:0.0:0.0 */
                    if (double_attr(2) <= 0.4960784316062927) {
                      add_pred(   /* R.0:1.2:0.0:0.0:0.0:0 */
                                 -0.03439184678559229);
                      if (defined_attr(1)) {  /* R.0:1.2:0.0:0.0:0.0:0.0 */
                        if (double_attr(1) <= 0.0807266210492017) {
                          add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:0 */
                                     0.15679271161197902);
                          if (defined_attr(2)) {  /* R.0:1.2:0.0:0.0:0.0:0.0:0.0 */
                            if (double_attr(2) <= 0.41372549533843994) {
                              add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:0.0:0 */
                                         -1.1577996609555843);
                            } else {
                              add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:0.0:1 */
                                         0.12424884009141353);
                              if (defined_attr(0)) {  /* R.0:1.2:0.0:0.0:0.0:0.0:0.0:1.0 */
                                if (double_attr(0) <= 0.39814814814814814) {
                                  add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:0.0:1.0:0 */
                                             -0.3618607097592644);
                                  if (defined_attr(2)) {  /* R.0:1.2:0.0:0.0:0.0:0.0:0.0:1.0:0.0 */
                                    if (double_attr(2) <= 0.4647058844566345) {
                                      add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:0.0:1.0:0.0:0 */
                                                 -0.770505826650841);
                                    } else {
                                      add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:0.0:1.0:0.0:1 */
                                                 0.19688684051439018);
                                    }
                                  }
                                } else {
                                  add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:0.0:1.0:1 */
                                             0.1444906336724031);
                                }
                              }
                            }
                          }
                        } else {
                          add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:1 */
                                     -0.05320832154123698);
                          if (defined_attr(2)) {  /* R.0:1.2:0.0:0.0:0.0:0.0:1.0 */
                            if (double_attr(2) <= 0.44117647409439087) {
                              add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:0 */
                                         0.11903834754379118);
                              if (defined_attr(0)) {  /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:0.0 */
                                if (double_attr(0) <= 0.5077561327561327) {
                                  add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:0.0:0 */
                                             -0.3987952874702294);
                                } else {
                                  add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:0.0:1 */
                                             0.1326210462572807);
                                }
                              }
                              if (defined_attr(0)) {  /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:0.1 */
                                if (double_attr(0) <= 0.4967948717948718) {
                                  add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:0.1:0 */
                                             -0.6051421471946226);
                                  if (defined_attr(2)) {  /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:0.1:0.0 */
                                    if (double_attr(2) <= 0.4176470637321472) {
                                      add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:0.1:0.0:0 */
                                                 -1.8580035858852773);
                                    } else {
                                      add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:0.1:0.0:1 */
                                                 -0.043609207354751475);
                                    }
                                  }
                                } else {
                                  add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:0.1:1 */
                                             0.0581341556901457);
                                }
                              }
                            } else {
                              add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:1 */
                                         -0.090515817699778);
                              if (defined_attr(0)) {  /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:1.0 */
                                if (double_attr(0) <= 0.5528309409888357) {
                                  add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:1.0:0 */
                                             -0.027387000292809834);
                                } else {
                                  add_pred(   /* R.0:1.2:0.0:0.0:0.0:0.0:1.0:1.0:1 */
                                             -0.32144013901659957);
                                }
                              }
                            }
                          }
                        }
                      }
                    } else {
                      add_pred(   /* R.0:1.2:0.0:0.0:0.0:1 */
                                 0.3598978412551385);
                      if (defined_attr(0)) {  /* R.0:1.2:0.0:0.0:0.0:1.0 */
                        if (double_attr(0) <= 0.5433440687063876) {
                          add_pred(   /* R.0:1.2:0.0:0.0:0.0:1.0:0 */
                                     0.2741751483518431);
                          if (defined_attr(1)) {  /* R.0:1.2:0.0:0.0:0.0:1.0:0.0 */
                            if (double_attr(1) <= 0.06705489289951913) {
                              add_pred(   /* R.0:1.2:0.0:0.0:0.0:1.0:0.0:0 */
                                         -0.25567452574918387);
                              if (defined_attr(0)) {  /* R.0:1.2:0.0:0.0:0.0:1.0:0.0:0.0 */
                                if (double_attr(0) <= 0.25793650793650796) {
                                  add_pred(   /* R.0:1.2:0.0:0.0:0.0:1.0:0.0:0.0:0 */
                                             0.5888136186645908);
                                } else {
                                  add_pred(   /* R.0:1.2:0.0:0.0:0.0:1.0:0.0:0.0:1 */
                                             -0.26946154865572125);
                                }
                              }
                            } else {
                              add_pred(   /* R.0:1.2:0.0:0.0:0.0:1.0:0.0:1 */
                                         0.12096516653185864);
                            }
                          }
                        } else {
                          add_pred(   /* R.0:1.2:0.0:0.0:0.0:1.0:1 */
                                     -0.3344635626560654);
                          if (defined_attr(0)) {  /* R.0:1.2:0.0:0.0:0.0:1.0:1.0 */
                            if (double_attr(0) <= 0.5531108961960025) {
                              add_pred(   /* R.0:1.2:0.0:0.0:0.0:1.0:1.0:0 */
                                         -0.06705036390804586);
                            } else {
                              add_pred(   /* R.0:1.2:0.0:0.0:0.0:1.0:1.0:1 */
                                         -0.5051254594160723);
                            }
                          }
                        }
                      }
                    }
                  }
                } else {
                  add_pred(   /* R.0:1.2:0.0:0.0:1 */
                             -1.1300036022036688);
                }
              }
            } else {
              add_pred(   /* R.0:1.2:0.0:1 */
                         -0.9182897643294948);
              if (defined_attr(1)) {  /* R.0:1.2:0.0:1.0 */
                if (double_attr(1) <= 0.08500602167804094) {
                  add_pred(   /* R.0:1.2:0.0:1.0:0 */
                             0.567917373681923);
                  if (defined_attr(1)) {  /* R.0:1.2:0.0:1.0:0.0 */
                    if (double_attr(1) <= 0.06163342830009497) {
                      add_pred(   /* R.0:1.2:0.0:1.0:0.0:0 */
                                 0.24421414551083773);
                    } else {
                      add_pred(   /* R.0:1.2:0.0:1.0:0.0:1 */
                                 -0.38656279181855124);
                      if (defined_attr(0)) {  /* R.0:1.2:0.0:1.0:0.0:1.0 */
                        if (double_attr(0) <= 0.5898989898989899) {
                          add_pred(   /* R.0:1.2:0.0:1.0:0.0:1.0:0 */
                                     0.24532107496739736);
                        } else {
                          add_pred(   /* R.0:1.2:0.0:1.0:0.0:1.0:1 */
                                     -0.7039773846585033);
                        }
                      }
                    }
                  }
                } else {
                  add_pred(   /* R.0:1.2:0.0:1.0:1 */
                             -1.3290940118406285);
                  if (defined_attr(0)) {  /* R.0:1.2:0.0:1.0:1.0 */
                    if (double_attr(0) <= 0.5790217068093964) {
                      add_pred(   /* R.0:1.2:0.0:1.0:1.0:0 */
                                 0.06015345151278579);
                      if (defined_attr(2)) {  /* R.0:1.2:0.0:1.0:1.0:0.0 */
                        if (double_attr(2) <= 0.4647058844566345) {
                          add_pred(   /* R.0:1.2:0.0:1.0:1.0:0.0:0 */
                                     0.4120201627369551);
                          if (defined_attr(1)) {  /* R.0:1.2:0.0:1.0:1.0:0.0:0.0 */
                            if (double_attr(1) <= 0.20737718850926398) {
                              add_pred(   /* R.0:1.2:0.0:1.0:1.0:0.0:0.0:0 */
                                         0.3140592786693314);
                            } else {
                              add_pred(   /* R.0:1.2:0.0:1.0:1.0:0.0:0.0:1 */
                                         -1.749551796450181);
                            }
                          }
                        } else {
                          add_pred(   /* R.0:1.2:0.0:1.0:1.0:0.0:1 */
                                     -0.41367060307678166);
                        }
                      }
                    } else {
                      add_pred(   /* R.0:1.2:0.0:1.0:1.0:1 */
                                 -1.7642134199270652);
                      if (defined_attr(0)) {  /* R.0:1.2:0.0:1.0:1.0:1.0 */
                        if (double_attr(0) <= 0.6795634920634921) {
                          add_pred(   /* R.0:1.2:0.0:1.0:1.0:1.0:0 */
                                     -1.3892501286460759);
                        } else {
                          add_pred(   /* R.0:1.2:0.0:1.0:1.0:1.0:1 */
                                     1.166284682043612);
                        }
                      }
                    }
                  }
                }
              }
              if (defined_attr(2)) {  /* R.0:1.2:0.0:1.1 */
                if (double_attr(2) <= 0.4803921580314636) {
                  add_pred(   /* R.0:1.2:0.0:1.1:0 */
                             0.2805099427858817);
                  if (defined_attr(1)) {  /* R.0:1.2:0.0:1.1:0.0 */
                    if (double_attr(1) <= 0.025974512743628185) {
                      add_pred(   /* R.0:1.2:0.0:1.1:0.0:0 */
                                 0.5630494671844397);
                    } else {
                      add_pred(   /* R.0:1.2:0.0:1.1:0.0:1 */
                                 0.12384734464161667);
                    }
                  }
                } else {
                  add_pred(   /* R.0:1.2:0.0:1.1:1 */
                             -0.32822818446291013);
                }
              }
            }
          }
          if (defined_attr(1)) {  /* R.0:1.2:0.1 */
            if (double_attr(1) <= 0.2033209315143999) {
              add_pred(   /* R.0:1.2:0.1:0 */
                         0.21267455038516256);
              if (defined_attr(1)) {  /* R.0:1.2:0.1:0.0 */
                if (double_attr(1) <= 0.02748695808598669) {
                  add_pred(   /* R.0:1.2:0.1:0.0:0 */
                             0.7607463958546917);
                } else {
                  add_pred(   /* R.0:1.2:0.1:0.0:1 */
                             0.05527163089066525);
                  if (defined_attr(2)) {  /* R.0:1.2:0.1:0.0:1.0 */
                    if (double_attr(2) <= 0.5901961028575897) {
                      add_pred(   /* R.0:1.2:0.1:0.0:1.0:0 */
                                 0.0771501203389269);
                      if (defined_attr(0)) {  /* R.0:1.2:0.1:0.0:1.0:0.0 */
                        if (double_attr(0) <= 0.4811253561253561) {
                          add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0 */
                                     -0.5248513737635083);
                          if (defined_attr(2)) {  /* R.0:1.2:0.1:0.0:1.0:0.0:0.0 */
                            if (double_attr(2) <= 0.44117647409439087) {
                              add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.0:0 */
                                         -1.6412644426750922);
                            } else {
                              add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.0:1 */
                                         -0.04723338859516401);
                              if (defined_attr(1)) {  /* R.0:1.2:0.1:0.0:1.0:0.0:0.0:1.0 */
                                if (double_attr(1) <= 0.12345888091044574) {
                                  add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.0:1.0:0 */
                                             0.0994782017835814);
                                } else {
                                  add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.0:1.0:1 */
                                             -0.8317416917440767);
                                  if (defined_attr(2)) {  /* R.0:1.2:0.1:0.0:1.0:0.0:0.0:1.0:1.0 */
                                    if (double_attr(2) <= 0.5313725769519806) {
                                      add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.0:1.0:1.0:0 */
                                                 -0.9530603464466171);
                                    } else {
                                      add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.0:1.0:1.0:1 */
                                                 0.49280393233567826);
                                    }
                                  }
                                }
                              }
                            }
                          }
                          if (defined_attr(0)) {  /* R.0:1.2:0.1:0.0:1.0:0.0:0.1 */
                            if (double_attr(0) <= 0.3871527777777778) {
                              add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.1:0 */
                                         -0.785946425112784);
                              if (defined_attr(1)) {  /* R.0:1.2:0.1:0.0:1.0:0.0:0.1:0.0 */
                                if (double_attr(1) <= 0.07914280601288476) {
                                  add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.1:0.0:0 */
                                             -0.19775545023783456);
                                } else {
                                  add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.1:0.0:1 */
                                             -2.2388673218578323);
                                }
                              }
                            } else {
                              add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.1:1 */
                                         0.01819325135022651);
                            }
                          }
                          if (defined_attr(2)) {  /* R.0:1.2:0.1:0.0:1.0:0.0:0.2 */
                            if (double_attr(2) <= 0.4725490212440491) {
                              add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.2:0 */
                                         -0.3903853069260371);
                            } else {
                              add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:0.2:1 */
                                         0.10482468446272719);
                            }
                          }
                        } else {
                          add_pred(   /* R.0:1.2:0.1:0.0:1.0:0.0:1 */
                                     0.11858379662657807);
                        }
                      }
                    } else {
                      add_pred(   /* R.0:1.2:0.1:0.0:1.0:1 */
                                 -1.5289734904288756);
                      if (defined_attr(1)) {  /* R.0:1.2:0.1:0.0:1.0:1.0 */
                        if (double_attr(1) <= 0.044448476052249636) {
                          add_pred(   /* R.0:1.2:0.1:0.0:1.0:1.0:0 */
                                     0.14530463528820467);
                        } else {
                          add_pred(   /* R.0:1.2:0.1:0.0:1.0:1.0:1 */
                                     -1.3607034219044116);
                          if (defined_attr(2)) {  /* R.0:1.2:0.1:0.0:1.0:1.0:1.0 */
                            if (double_attr(2) <= 0.7431372702121735) {
                              add_pred(   /* R.0:1.2:0.1:0.0:1.0:1.0:1.0:0 */
                                         -0.051435493066617335);
                            } else {
                              add_pred(   /* R.0:1.2:0.1:0.0:1.0:1.0:1.0:1 */
                                         -2.584942013809597);
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
              if (defined_attr(2)) {  /* R.0:1.2:0.1:0.1 */
                if (double_attr(2) <= 0.37843137979507446) {
                  add_pred(   /* R.0:1.2:0.1:0.1:0 */
                             -0.9219763779170891);
                  if (defined_attr(0)) {  /* R.0:1.2:0.1:0.1:0.0 */
                    if (double_attr(0) <= 0.5131313131313131) {
                      add_pred(   /* R.0:1.2:0.1:0.1:0.0:0 */
                                 0.0849570007053004);
                    } else {
                      add_pred(   /* R.0:1.2:0.1:0.1:0.0:1 */
                                 -1.0588167605929442);
                    }
                  }
                } else {
                  add_pred(   /* R.0:1.2:0.1:0.1:1 */
                             0.019704243076944822);
                }
              }
            } else {
              add_pred(   /* R.0:1.2:0.1:1 */
                         -0.985904887813527);
              if (defined_attr(2)) {  /* R.0:1.2:0.1:1.0 */
                if (double_attr(2) <= 0.5392157137393951) {
                  add_pred(   /* R.0:1.2:0.1:1.0:0 */
                             -0.02983669756749827);
                } else {
                  add_pred(   /* R.0:1.2:0.1:1.0:1 */
                             -3.1205170087259324);
                }
              }
              if (defined_attr(1)) {  /* R.0:1.2:0.1:1.1 */
                if (double_attr(1) <= 0.27555037763136747) {
                  add_pred(   /* R.0:1.2:0.1:1.1:0 */
                             0.07721674689724625);
                  if (defined_attr(0)) {  /* R.0:1.2:0.1:1.1:0.0 */
                    if (double_attr(0) <= 0.5077561327561327) {
                      add_pred(   /* R.0:1.2:0.1:1.1:0.0:0 */
                                 -1.912069621559226);
                    } else {
                      add_pred(   /* R.0:1.2:0.1:1.1:0.0:1 */
                                 0.07496244579545282);
                    }
                  }
                } else {
                  add_pred(   /* R.0:1.2:0.1:1.1:1 */
                             -2.3875417321827928);
                }
              }
            }
          }
        } else {
          add_pred(   /* R.0:1.2:1 */
                     2.2788757681509515);
          if (defined_attr(1)) {  /* R.0:1.2:1.0 */
            if (double_attr(1) <= 0.05479473039215686) {
              add_pred(   /* R.0:1.2:1.0:0 */
                         0.5911458528943283);
            } else {
              add_pred(   /* R.0:1.2:1.0:1 */
                         3.3681990592554674);
              if (defined_attr(2)) {  /* R.0:1.2:1.0:1.0 */
                if (double_attr(2) <= 0.21176470909267664) {
                  add_pred(   /* R.0:1.2:1.0:1.0:0 */
                             -1.2717214641833652);
                } else {
                  add_pred(   /* R.0:1.2:1.0:1.0:1 */
                             2.461086575130688);
                }
              }
            }
          }
        }
      }
    }
  }
  if (defined_attr(2)) {  /* R.1 */
    if (double_attr(2) <= 0.3588235378265381) {
      add_pred(   /* R.1:0 */
                 -2.4976597717037308);
      if (defined_attr(2)) {  /* R.1:0.0 */
        if (double_attr(2) <= 0.30392158031463623) {
          add_pred(   /* R.1:0.0:0 */
                     -2.045034586629397);
        } else {
          add_pred(   /* R.1:0.0:1 */
                     -0.23819575390746878);
        }
      }
    } else {
      add_pred(   /* R.1:1 */
                 0.13835324684872774);
      if (defined_attr(2)) {  /* R.1:1.0 */
        if (double_attr(2) <= 0.9941176474094391) {
          add_pred(   /* R.1:1.0:0 */
                     0.0322459674938159);
          if (defined_attr(2)) {  /* R.1:1.0:0.0 */
            if (double_attr(2) <= 0.5784313976764679) {
              add_pred(   /* R.1:1.0:0.0:0 */
                         0.026011520704750137);
            } else {
              add_pred(   /* R.1:1.0:0.0:1 */
                         -0.5619941900105688);
              if (defined_attr(1)) {  /* R.1:1.0:0.0:1.0 */
                if (double_attr(1) <= 0.07494493392070484) {
                  add_pred(   /* R.1:1.0:0.0:1.0:0 */
                             -1.1097282327431073);
                } else {
                  add_pred(   /* R.1:1.0:0.0:1.0:1 */
                             0.13935780045006613);
                  if (defined_attr(2)) {  /* R.1:1.0:0.0:1.0:1.0 */
                    if (double_attr(2) <= 0.9470588266849518) {
                      add_pred(   /* R.1:1.0:0.0:1.0:1.0:0 */
                                 -0.4956402111779136);
                    } else {
                      add_pred(   /* R.1:1.0:0.0:1.0:1.0:1 */
                                 2.0417277647350387);
                    }
                  }
                }
              }
            }
          }
          if (defined_attr(1)) {  /* R.1:1.0:0.1 */
            if (double_attr(1) <= 0.015564437984496124) {
              add_pred(   /* R.1:1.0:0.1:0 */
                         -0.7912802290167109);
            } else {
              add_pred(   /* R.1:1.0:0.1:1 */
                         0.020042496776143504);
            }
          }
        } else {
          add_pred(   /* R.1:1.0:1 */
                     0.6855105662674565);
        }
      }
    }
  }
  if (defined_attr(1)) {  /* R.2 */
    if (double_attr(1) <= 0.023346656976744186) {
      add_pred(   /* R.2:0 */
                 -0.2754290286713691);
      if (defined_attr(1)) {  /* R.2:0.0 */
        if (double_attr(1) <= 0.017467581998474445) {
          add_pred(   /* R.2:0.0:0 */
                     0.07591607652794931);
        } else {
          add_pred(   /* R.2:0.0:1 */
                     -0.44521382745338034);
        }
      }
    } else {
      add_pred(   /* R.2:1 */
                 0.021837715663738995);
      if (defined_attr(0)) {  /* R.2:1.0 */
        if (double_attr(0) <= 0.7022727272727273) {
          add_pred(   /* R.2:1.0:0 */
                     0.002746717394667969);
          if (defined_attr(0)) {  /* R.2:1.0:0.0 */
            if (double_attr(0) <= 0.6113888888888889) {
              add_pred(   /* R.2:1.0:0.0:0 */
                         0.0210819084743836);
            } else {
              add_pred(   /* R.2:1.0:0.0:1 */
                         -0.540635755557503);
            }
          }
        } else {
          add_pred(   /* R.2:1.0:1 */
                     0.5886163059019146);
        }
      }
    }
  }
  return finalize_pred();
}
